================================================================================
DOCUMENTO DE REQUISITOS DO PRODUTO (PRD)
Sistema de P√°ginas de Links, Formul√°rios e Listas Personalizadas
================================================================================
üìÖ √öLTIMA ATUALIZA√á√ÉO: 2025-11-03
üìå VERS√ÉO DO BANCO DE DADOS: v2.0.0
================================================================================

================================================================================
1. VIS√ÉO GERAL DO PRODUTO
================================================================================

1.1 NOME DO PRODUTO
Sistema de Bio Links, Formul√°rios e Listas Personalizadas com Planos de Assinatura

1.2 PROP√ìSITO
Plataforma web completa que permite usu√°rios criarem p√°ginas de links personalizadas 
(similar ao Linktree) com capacidade de criar e gerenciar:
- Formul√°rios customizados integrados com navega√ß√£o entre forms
- Listas de links organizadas por tema/categoria
- Sistema de planos de assinatura (Free, Individual, Ag√™ncia, Empresa)
- Modo ag√™ncia para gest√£o de m√∫ltiplos perfis de clientes

O sistema permite que criadores de conte√∫do, profissionais e empresas centralizem 
todos seus links importantes, capturem leads atrav√©s de formul√°rios personalizados 
e organizem seus conte√∫dos em listas tem√°ticas.

1.3 PROBLEMA QUE RESOLVE
- Necessidade de centralizar m√∫ltiplos links em uma √∫nica p√°gina
- Captura de leads atrav√©s de formul√°rios customizados
- Organiza√ß√£o de links por categorias/temas (listas)
- Gerenciamento de m√∫ltiplos perfis (modo ag√™ncia)
- An√°lise de m√©tricas de engajamento (cliques e visualiza√ß√µes)
- Limita√ß√£o de recursos por plano de assinatura
- Navega√ß√£o inteligente entre formul√°rios (funis de convers√£o)
- Sincroniza√ß√£o autom√°tica de emails com perfis
- Falta de controle sobre apar√™ncia e branding

1.4 P√öBLICO-ALVO
- Criadores de conte√∫do (YouTubers, Influenciadores)
- Profissionais aut√¥nomos (Coaches, Consultores, Designers)
- Ag√™ncias de marketing digital (gerenciando m√∫ltiplos clientes)
- Pequenas e m√©dias empresas
- Artistas e m√∫sicos
- Qualquer pessoa que precise centralizar e organizar links

1.5 OBJETIVOS DO PRODUTO
- Permitir cria√ß√£o r√°pida de p√°ginas de links personalizadas
- Oferecer cria√ß√£o de formul√°rios sem c√≥digo com navega√ß√£o entre forms
- Criar listas tem√°ticas de links organizadas
- Fornecer m√©tricas de engajamento detalhadas
- Garantir design responsivo e atraente
- Facilitar gest√£o de m√∫ltiplos usu√°rios via modo ag√™ncia
- Monetiza√ß√£o atrav√©s de planos de assinatura
- Sincroniza√ß√£o autom√°tica de dados de perfil

================================================================================
2. STACK TECNOL√ìGICA
================================================================================

2.1 FRONTEND
- React 18.3.1
- TypeScript
- Vite (build tool)
- React Router DOM 6.30.1
- TanStack React Query 5.83.0 (gerenciamento de estado servidor)
- Tailwind CSS 3.x (estiliza√ß√£o)
- shadcn/ui (biblioteca de componentes)
- Radix UI (componentes primitivos)
- Lucide React (√≠cones)
- React Helmet Async (SEO)
- Sonner (toasts/notifica√ß√µes)
- Zod (valida√ß√£o de schemas)
- DnD Kit (drag-and-drop)

2.2 BACKEND/INFRAESTRUTURA
- Supabase (Backend-as-a-Service)
  - PostgreSQL (banco de dados)
  - Authentication (autentica√ß√£o)
  - Storage (armazenamento de arquivos)
  - Edge Functions (serverless functions)
  - Row Level Security (RLS)

2.3 HOSPEDAGEM E DEPLOY
- Lovable Cloud Platform
- URLs personalizadas via subdom√≠nios

================================================================================
3. ARQUITETURA DO SISTEMA
================================================================================

3.1 ESTRUTURA DE PASTAS

/src
  /components
    /ui              # Componentes base (shadcn)
    - CustomFieldRenderer.tsx
    - CustomFieldRendererMemoized.tsx üÜï v2.0
    - EmptyState.tsx
    - ErrorBoundary.tsx
    - FormFieldManager.tsx
    - LanguageSelector.tsx
    - Layout.tsx
    - LimitBadge.tsx üÜï v2.0 - Badge de limites de plano
    - LinkCard.tsx
    - LinkCardMemoized.tsx üÜï v2.0
    - LoadingSkeleton.tsx
    - Navbar.tsx
    - PositionSelector.tsx
    - SocialIcon.tsx
    - UpgradePrompt.tsx üÜï v2.0 - Prompt para upgrade de plano
    - UserSelector.tsx
  
  /contexts
    - AdminViewContext.tsx    # Contexto para visualiza√ß√£o admin (troca de usu√°rios)
    - AuthContext.tsx         # Contexto de autentica√ß√£o
    - LanguageContext.tsx     # Contexto de internacionaliza√ß√£o
    - PlanContext.tsx üÜï v2.0 # Contexto de planos e limites
  
  /hooks
    /queries
      - useCards.ts           # Hooks React Query para cards
      - useForms.ts           # Hooks React Query para formul√°rios
      - useLists.ts üÜï v2.0   # Hooks React Query para listas
      - useProfile.ts         # Hooks React Query para perfis
      - useProfiles.ts        # Hooks React Query para m√∫ltiplos perfis
      - usePublicList.ts üÜï v2.0 # Hook para listas p√∫blicas
    - use-mobile.tsx
    - use-toast.ts
    - useResourceLimit.ts üÜï v2.0 # Hook para verifica√ß√£o de limites
  
  /integrations
    /supabase
      - client.ts             # Cliente Supabase
      - types.ts              # Tipos TypeScript gerados (READ-ONLY)
  
  /lib
    - countries.ts            # Lista de pa√≠ses
    - utils.ts                # Utilit√°rios gerais
  
  /pages
    - Admin.tsx               # Dashboard admin (deprecated)
    - Auth.tsx                # P√°gina de autentica√ß√£o
    - CardForm.tsx            # Formul√°rio de cria√ß√£o/edi√ß√£o de cards
    - CreateUser.tsx          # Cria√ß√£o de usu√°rio por admin
    - Dashboard.tsx           # Dashboard principal do usu√°rio
    - FormBuilder.tsx         # Construtor de formul√°rios
    - FormsList.tsx           # Lista de formul√°rios
    - FormSubmissions.tsx     # Visualiza√ß√£o de submiss√µes
    - Index.tsx               # P√°gina inicial (redireciona)
    - Invite.tsx              # Sistema de convites
    - Landing.tsx             # Landing page p√∫blica
    - ListBuilder.tsx üÜï v2.0 # Construtor de listas
    - NotFound.tsx            # P√°gina 404
    - Pricing.tsx üÜï v2.0     # P√°gina de planos
    - PrivacyPolicy.tsx       # Pol√≠tica de privacidade
    - Profile.tsx             # Edi√ß√£o de perfil
    - PublicForm.tsx          # Formul√°rio p√∫blico
    - PublicList.tsx üÜï v2.0  # Lista p√∫blica
    - ResetPassword.tsx       # Reset de senha
    - TermsOfService.tsx      # Termos de servi√ßo
    - UpdatePassword.tsx      # Atualiza√ß√£o de senha
    - UserManagement.tsx      # Gest√£o de usu√°rios
    - UserPage.tsx            # P√°gina p√∫blica do usu√°rio
  
  /utils
    - imageProcessing.ts üÜï v2.0 # Processamento de imagens
    - performance.ts üÜï v2.0     # Utilit√°rios de performance
    - videoUtils.ts üÜï v2.0      # Utilit√°rios de v√≠deo

  - App.tsx                   # Componente raiz com lazy loading
  - index.css                 # Estilos globais e design system
  - main.tsx                  # Entry point

/supabase
  /functions
    /submit-form
      - index.ts              # Edge function para submiss√£o de formul√°rios
    /send-form-notification
      - index.ts üÜï v2.0      # Edge function para envio de notifica√ß√µes
  /migrations                 # Migra√ß√µes do banco de dados (READ-ONLY)
  - config.toml               # Configura√ß√£o Supabase

/archive                      # Migra√ß√µes antigas (refer√™ncia hist√≥rica)
  /individual-migrations
  /v1.0

- complete-database-setup-v2.sql  # Setup consolidado v2.0
- CONSOLIDATED_MIGRATION_GUIDE.md
- MIGRATION_STATUS.md
- PERFORMANCE_OPTIMIZATION_README.md
- README-DATABASE.md
- STORAGE_POLICIES_SETUP.md
    - Profile.tsx             # Edi√ß√£o de perfil
    - PublicForm.tsx          # Formul√°rio p√∫blico
    - ResetPassword.tsx       # Reset de senha
    - TermsOfService.tsx      # Termos de servi√ßo
    - UpdatePassword.tsx      # Atualiza√ß√£o de senha
    - UserManagement.tsx      # Gest√£o de usu√°rios
    - UserPage.tsx            # P√°gina p√∫blica do usu√°rio
  
  /utils
    - performance.ts          # Utilit√°rios de performance

  - App.tsx                   # Componente raiz
  - index.css                 # Estilos globais
  - main.tsx                  # Entry point

/supabase
  /functions
    /submit-form
      - index.ts              # Edge function para submiss√£o de formul√°rios
  /migrations                 # Migra√ß√µes do banco de dados
  - config.toml               # Configura√ß√£o Supabase

3.2 BANCO DE DADOS (PostgreSQL/Supabase) v2.0

üÜï NOVIDADES v2.0:
- Sistema de planos de assinatura com limites por recurso
- Sistema de listas (link_lists e list_items)
- Sincroniza√ß√£o autom√°tica de email entre auth.users e profiles
- Navega√ß√£o entre formul√°rios (funis de convers√£o)
- Posicionamento customiz√°vel de forms (grid 3x3)
- M√∫ltiplos formul√°rios por usu√°rio

TABELAS PRINCIPAIS:

1. profiles
   - id (UUID, PK) - Pode ser auth.users.id (ativado) ou UUID aleat√≥rio (pendente)
   - username (TEXT, UNIQUE, NOT NULL)
   - display_name (TEXT)
   - bio (TEXT)
   - avatar_url (TEXT)
   - cover_image_url (TEXT)
   - theme (TEXT, DEFAULT 'light')
   - email (TEXT) üÜï v2.0 - Sincronizado automaticamente com auth.users
   - is_activated (BOOLEAN, DEFAULT true) üÜï - Indica se usu√°rio aceitou convite
   - created_at (TIMESTAMPTZ, DEFAULT NOW())
   - updated_at (TIMESTAMPTZ, DEFAULT NOW())
   
   OBSERVA√á√ÉO: N√£o possui FK para auth.users (permite perfis pendentes)

2. user_roles
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - user_id (UUID, FK -> auth.users, NOT NULL)
   - role (app_role ENUM: 'admin' | 'moderator' | 'user', NOT NULL)
   - created_at (TIMESTAMPTZ, DEFAULT NOW())
   - UNIQUE (user_id, role)
   
   SEGURAN√áA: Roles armazenadas separadamente para prevenir escala√ß√£o de privil√©gios

3. user_invitations
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - invited_by_admin_id (UUID, FK -> auth.users)
   - profile_id (UUID, FK -> profiles)
   - invitation_token (UUID, UNIQUE, NOT NULL, DEFAULT gen_random_uuid())
   - email (TEXT)
   - status (TEXT CHECK IN: 'pending' | 'accepted' | 'expired', DEFAULT 'pending')
   - expires_at (TIMESTAMPTZ, NOT NULL, DEFAULT NOW() + 7 days)
   - created_at (TIMESTAMPTZ, DEFAULT NOW())
   - accepted_at (TIMESTAMPTZ)
   - linked_profile_id (UUID, FK -> profiles)
   - UNIQUE INDEX ON (profile_id) WHERE status = 'pending'

4. cards
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - user_id (UUID, FK -> profiles, NOT NULL)
   - title (TEXT, NOT NULL)
   - description (TEXT)
   - link_url (TEXT) - Nullable, pode ter form_config_id ao inv√©s
   - icon (TEXT)
   - image_url (TEXT)
   - is_active (BOOLEAN, DEFAULT true)
   - display_order (INTEGER, DEFAULT 0)
   - form_config_id (UUID, FK -> form_configs)
   - created_at (TIMESTAMPTZ, DEFAULT NOW())
   - updated_at (TIMESTAMPTZ, DEFAULT NOW())

5. form_configs
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - user_id (UUID, FK -> auth.users, NOT NULL)
   - title (TEXT, NOT NULL, DEFAULT 'Mentoria individual diretamente comigo.')
   - description (TEXT)
   - quote (TEXT)
   - background_image (TEXT)
   - button_text (TEXT, NOT NULL, DEFAULT 'Enviar formul√°rio')
   - button_color (TEXT, NOT NULL, DEFAULT '#10b981')
   - whatsapp_number (TEXT)
   - email_notification (TEXT)
   - show_name (BOOLEAN, NOT NULL, DEFAULT true)
   - show_phone (BOOLEAN, NOT NULL, DEFAULT true)
   - show_email (BOOLEAN, NOT NULL, DEFAULT true)
   - is_active (BOOLEAN, NOT NULL, DEFAULT true)
   - slug (TEXT, UNIQUE, NOT NULL)
   - confirmation_title (TEXT, DEFAULT 'Formul√°rio enviado!')
   - confirmation_message (TEXT, DEFAULT 'Obrigado pelo seu contato...')
   - confirmation_button_text (TEXT, DEFAULT 'Enviar outro formul√°rio')
   
   üÜï v2.0 - SISTEMA DE NAVEGA√á√ÉO:
   - form_position (TEXT, DEFAULT 'middle-center') - Grid 3x3 posicionamento
   - button_action (TEXT, DEFAULT 'confirmation') - 'confirmation' | 'external_link' | 'other_form'
   - external_link_url (TEXT)
   - button_action_form_id (UUID, FK -> form_configs)
   - show_confirmation_button (BOOLEAN, DEFAULT true)
   - confirmation_button_action (TEXT, DEFAULT 'reset') - 'reset' | 'external_link' | 'other_form'
   - confirmation_button_link (TEXT)
   - confirmation_button_form_id (UUID, FK -> form_configs)
   
   - created_at (TIMESTAMPTZ, DEFAULT NOW(), NOT NULL)
   - updated_at (TIMESTAMPTZ, DEFAULT NOW(), NOT NULL)
   
   IMPORTANTE: Removido constraint UNIQUE(user_id) - m√∫ltiplos forms por usu√°rio

6. form_fields üÜï v2.0 - Schema corrigido
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - form_config_id (UUID, FK -> form_configs, NOT NULL)
   - field_type (TEXT, NOT NULL) CHECK IN: 'text' | 'email' | 'phone' | 'textarea' | 'number' | 'select' | 'checkbox' | 'radio'
   - label (TEXT, NOT NULL)
   - placeholder (TEXT)
   - required (BOOLEAN, NOT NULL, DEFAULT false)
   - options (TEXT[]) - Array de strings para select, radio
   - sort_order (INTEGER, NOT NULL, DEFAULT 0)
   - is_standard_field (BOOLEAN, NOT NULL, DEFAULT false)
   - standard_field_type (TEXT)
   - created_at (TIMESTAMPTZ, DEFAULT NOW(), NOT NULL)
   - updated_at (TIMESTAMPTZ, DEFAULT NOW(), NOT NULL)

7. form_submissions
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - form_config_id (UUID, FK -> form_configs, NOT NULL)
   - name (TEXT)
   - phone (TEXT)
   - email (TEXT)
   - custom_fields (JSONB, DEFAULT '{}')
   - submitted_at (TIMESTAMPTZ, DEFAULT NOW(), NOT NULL)
   - ip_address (TEXT)
   - user_agent (TEXT)

8. link_lists üÜï v2.0 - SISTEMA DE LISTAS
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - user_id (UUID, NOT NULL)
   - title (TEXT, NOT NULL)
   - description (TEXT)
   - is_active (BOOLEAN, DEFAULT true)
   - slug (TEXT, UNIQUE, NOT NULL)
   - created_at (TIMESTAMPTZ, DEFAULT NOW())
   - updated_at (TIMESTAMPTZ, DEFAULT NOW())

9. list_items üÜï v2.0 - ITENS DAS LISTAS
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - list_id (UUID, FK -> link_lists, NOT NULL)
   - title (TEXT, NOT NULL)
   - url (TEXT, NOT NULL)
   - display_order (INTEGER, NOT NULL, DEFAULT 0)
   - is_active (BOOLEAN, DEFAULT true)
   - created_at (TIMESTAMPTZ, DEFAULT NOW())
   - updated_at (TIMESTAMPTZ, DEFAULT NOW())

10. card_clicks
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - card_id (UUID, FK -> cards, NOT NULL)
   - clicked_at (TIMESTAMPTZ, DEFAULT NOW(), NOT NULL)
   - ip_address (TEXT)
   - user_agent (TEXT)

11. profile_views
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - profile_id (UUID, FK -> profiles, NOT NULL)
   - viewed_at (TIMESTAMPTZ, DEFAULT NOW(), NOT NULL)
   - ip_address (TEXT)
   - user_agent (TEXT)

12. plan_definitions üÜï v2.0 - PLANOS DE ASSINATURA
   - plan_id (TEXT, PK) - 'free' | 'individual' | 'agency' | 'enterprise'
   - plan_name (TEXT, NOT NULL)
   - price_monthly (NUMERIC, NOT NULL)
   - limit_profiles (INTEGER, NOT NULL) - Limite de perfis gerenciados
   - limit_cards (INTEGER, NOT NULL) - Limite de cards por perfil
   - limit_forms (INTEGER, NOT NULL) - Limite de formul√°rios por perfil
   - limit_lists (INTEGER, NOT NULL) - Limite de listas por perfil
   - allow_video_bg (BOOLEAN, DEFAULT false) - Permite v√≠deo de fundo
   - allow_admin_mode (BOOLEAN, DEFAULT false) - Habilita modo ag√™ncia
   - created_at (TIMESTAMPTZ, DEFAULT NOW())

13. user_plans üÜï v2.0 - ASSOCIA√á√ÉO USU√ÅRIO-PLANO
   - id (UUID, PK, DEFAULT gen_random_uuid())
   - user_id (UUID, FK -> auth.users, UNIQUE, NOT NULL)
   - plan_id (TEXT, FK -> plan_definitions, NOT NULL)
   - subscribed_at (TIMESTAMPTZ, DEFAULT NOW())
   - expires_at (TIMESTAMPTZ) - NULL = sem expira√ß√£o

3.3 STORAGE BUCKETS (Supabase Storage)

1. avatars
   - Fotos de perfil dos usu√°rios
   - Path: {user_id}/{filename}
   - P√∫blico: Sim

2. profile-covers
   - Imagens de capa dos perfis
   - Path: {user_id}/{filename}
   - P√∫blico: Sim

3. card-images
   - Imagens dos cards de link
   - Path: {user_id}/{filename}
   - P√∫blico: Sim

4. form-backgrounds
   - Imagens de fundo dos formul√°rios
   - Path: {user_id}/{filename}
   - P√∫blico: Sim

RLS POLICIES: Configuradas via Dashboard Supabase
- Users podem fazer upload/update/delete apenas seus pr√≥prios arquivos
- Public pode visualizar todos os arquivos (buckets p√∫blicos)

3.4 EDGE FUNCTIONS

1. submit-form
   - Recebe submiss√µes de formul√°rios p√∫blicos (sem autentica√ß√£o)
   - Captura IP e User-Agent automaticamente
   - Valida dados do formul√°rio
   - Armazena submiss√£o no banco via service role (bypass RLS)
   - Envia notifica√ß√µes por email (se configurado)
   - Chama send-form-notification em background
   - Retorna sucesso/erro com CORS habilitado

2. send-form-notification
   - Enviado por submit-form ap√≥s submiss√£o bem-sucedida
   - Formata e envia email de notifica√ß√£o ao propriet√°rio do form
   - Inclui dados da submiss√£o e metadados (IP, timestamp, user-agent)
   - Executa em background (n√£o bloqueia resposta ao usu√°rio)

3.5 ROW LEVEL SECURITY (RLS)

O sistema implementa RLS rigoroso em todas as tabelas com as seguintes pol√≠ticas:

PRINC√çPIOS GERAIS:
- Usu√°rios s√≥ podem ver/editar seus pr√≥prios dados
- Admins podem ver/editar dados de TODOS os usu√°rios (via has_role function)
- Admins de ag√™ncia podem gerenciar apenas usu√°rios convidados por eles
- Dados p√∫blicos (UserPage, formul√°rios, listas) s√£o acess√≠veis sem autentica√ß√£o
- Submiss√µes de formul√°rios s√£o protegidas (apenas dono do form pode ver)
- Sistema de roles separado em tabela dedicada (previne escala√ß√£o de privil√©gios)

FUN√á√ÉO DE SEGURAN√áA:
```sql
has_role(_user_id UUID, _role app_role) RETURNS BOOLEAN
  - SECURITY DEFINER - Executa com privil√©gios do owner
  - Evita recurs√£o infinita em RLS policies
  - Verifica role em user_roles table
```

POL√çTICAS ESPECIAIS v2.0:
- Profiles: Admins podem criar perfis pendentes (n√£o ativados)
- Cards: Admins podem gerenciar cards de todos usu√°rios
- Forms: Admins podem gerenciar forms de todos usu√°rios  
- Lists: Admins podem gerenciar listas de todos usu√°rios
- Invitations: Apenas admins podem criar/gerenciar
- Plans: Fun√ß√£o get_user_plan_limits retorna plano do usu√°rio

3.6 FUN√á√ïES DO BANCO DE DADOS v2.0

AUTENTICA√á√ÉO E PERFIS:
1. handle_new_user_role() - Adiciona role 'user' automaticamente ap√≥s signup
2. handle_new_user() - Cria profile automaticamente ap√≥s signup
3. sync_profile_email() - Sincroniza email de auth.users para profiles
4. admin_delete_user(user_id) - Permite admin deletar usu√°rios
5. get_user_emails() - Lista emails para admins

CONVITES:
6. validate_invitation_token(token) - Valida token de convite
7. accept_invitation(token, user_id) - Aceita convite e cria profile ativado

FORMUL√ÅRIOS:
8. generate_slug(text) - Gera slug a partir de texto
9. generate_unique_slug(base_slug, form_id) - Garante slug √∫nico
10. get_public_form_config(slug) - Retorna config de form p√∫blico

LISTAS:
11. get_public_list(username, slug) - Retorna lista p√∫blica com itens

PLANOS:
12. get_user_plan_limits(user_id) - Retorna limites do plano do usu√°rio

PERFORMANCE:
13. refresh_cards_metrics() - Atualiza materialized view de cards
14. refresh_forms_metrics() - Atualiza materialized view de forms
15. update_updated_at_column() - Trigger para atualizar updated_at

3.7 MATERIALIZED VIEWS (Otimiza√ß√£o v2.0)

1. cards_with_metrics
   - Agrega cards com contagem de cliques
   - Refresh autom√°tico via triggers
   - √çndice √∫nico para refresh concorrente

2. forms_with_metrics
   - Agrega forms com contagem de submiss√µes
   - Refresh autom√°tico via triggers
   - √çndice √∫nico para refresh concorrente

================================================================================
4. FUNCIONALIDADES DETALHADAS
================================================================================

4.1 SISTEMA DE AUTENTICA√á√ÉO

4.1.1 Cadastro (Sign Up)
- Email + senha
- Valida√ß√£o de email
- Cria√ß√£o autom√°tica de perfil
- Atribui√ß√£o autom√°tica de role 'user'

4.1.2 Login (Sign In)
- Email + senha
- Sess√£o persistente
- Redirect para dashboard ap√≥s login

4.1.3 Recupera√ß√£o de Senha
- Envio de email com link de reset
- P√°gina de atualiza√ß√£o de senha
- Valida√ß√£o de token

4.1.4 Sistema de Convites
- Admin pode convidar usu√°rios por email
- Token √∫nico por convite
- Expira√ß√£o configur√°vel
- Status: pending, accepted, expired

4.2 GEST√ÉO DE PERFIL

4.2.1 Informa√ß√µes B√°sicas
- Username (√∫nico, usado na URL)
- Nome de exibi√ß√£o
- Biografia
- Frase personalizada (substitui @username)

4.2.2 Imagens
- Avatar (foto de perfil)
- Cover (imagem de capa)
- Suporte: JPG, PNG, GIF, WEBP
- Limite: 5MB por arquivo
- Upload para Supabase Storage

4.2.3 Redes Sociais
- Instagram
- LinkedIn
- YouTube
- Spotify
- WhatsApp

4.2.4 Personaliza√ß√£o Visual
- Textos de rodap√© (prim√°rio e secund√°rio)
- Selo de verificado (toggle)
- Mostrar/ocultar avatar (toggle)

4.2.5 URL P√∫blica
- Formato: {domain}/{username}
- Exemplo: linkbio.com/joaosilva

4.3 GEST√ÉO DE CARDS (LINKS)

4.3.1 Cria√ß√£o de Card
- T√≠tulo (obrigat√≥rio, max 200 chars)
- Tipo de link:
  a) URL Externa
     - URL completa (valida√ß√£o)
  b) Formul√°rio Existente
     - Sele√ß√£o de formul√°rio do usu√°rio
- Imagem de capa (opcional)
- Ordem de exibi√ß√£o (sort_order)
- Status ativo/inativo

4.3.2 Edi√ß√£o de Card
- Todos os campos edit√°veis
- Substitui√ß√£o de imagem
- Exclus√£o de imagem

4.3.3 Exclus√£o de Card
- Confirma√ß√£o via dialog
- Remo√ß√£o permanente
- Limpeza de m√©tricas associadas

4.3.4 Reordena√ß√£o
- Via sort_order num√©rico
- Menor n√∫mero = primeira posi√ß√£o

4.3.5 M√©tricas
- Contagem de cliques por card
- Exibi√ß√£o no dashboard
- Reset de m√©tricas (admin/propriet√°rio)

4.4 CONSTRUTOR DE FORMUL√ÅRIOS (FORM BUILDER) v2.0

4.4.1 Configura√ß√µes B√°sicas
- T√≠tulo do formul√°rio
- Slug/URL (√∫nico por usu√°rio, gerado automaticamente)
- Descri√ß√£o (opcional)
- Cita√ß√£o/quote (opcional)
- Status ativo/inativo
- üÜï M√∫ltiplos formul√°rios por usu√°rio (removido limite de 1)

4.4.2 Apar√™ncia Visual
- Imagem de fundo
- Cor do bot√£o (color picker)
- Texto do bot√£o
- üÜï Posicionamento do formul√°rio (grid 3x3):
  - top-left, top-center, top-right
  - middle-left, middle-center, middle-right
  - bottom-left, bottom-center, bottom-right

4.4.3 Campos Personalizados (Custom Fields)
Tipos de campo suportados:
- text (texto curto)
- email (valida√ß√£o de email)
- phone (telefone com c√≥digo de pa√≠s)
- textarea (texto longo)
- number (num√©rico)
- select (dropdown)
- checkbox (m√∫ltipla escolha)
- radio (escolha √∫nica)

Configura√ß√µes por campo:
- Label (r√≥tulo)
- Placeholder
- Obrigatoriedade (required)
- Options (array de strings para select, radio)
- Ordem de exibi√ß√£o (drag-and-drop)
- is_standard_field e standard_field_type (campos padr√£o reconhecidos)

4.4.4 üÜï v2.0 - A√ß√µes do Bot√£o de Envio (NAVEGA√á√ÉO ENTRE FORMS)
Ap√≥s submiss√£o, o sistema pode executar 3 tipos de a√ß√µes:

a) Mostrar mensagem de confirma√ß√£o (button_action = 'confirmation')
   - Exibe tela de confirma√ß√£o customiz√°vel
   - Permite bot√£o adicional na tela de confirma√ß√£o

b) Redirecionar para URL externa (button_action = 'external_link')
   - Redireciona para external_link_url
   - √ötil para Thank You Pages ou checkout

c) Redirecionar para outro formul√°rio (button_action = 'other_form')
   - Redireciona para button_action_form_id
   - Cria funis de convers√£o entre formul√°rios
   - Permite navega√ß√£o em m√∫ltiplas etapas

4.4.5 üÜï v2.0 - Tela de Confirma√ß√£o Avan√ßada
- T√≠tulo customiz√°vel (confirmation_title)
- Mensagem customiz√°vel (confirmation_message)
- Bot√£o de a√ß√£o (opcional - show_confirmation_button):
  a) Resetar formul√°rio (confirmation_button_action = 'reset')
     - Limpa formul√°rio e permite nova submiss√£o
  b) Link externo (confirmation_button_action = 'external_link')
     - Redireciona para confirmation_button_link
  c) Outro formul√°rio (confirmation_button_action = 'other_form')
     - Redireciona para confirmation_button_form_id
     - Continua funil de convers√£o

4.4.6 Notifica√ß√µes
- Email de notifica√ß√£o (opcional - email_notification field)
- WhatsApp (redirecionamento autom√°tico com dados preenchidos)

4.4.7 Campos Padr√£o
- Nome (show_name - toggle)
- Telefone (show_phone - toggle)
- Email (show_email - toggle)

4.4.8 URL P√∫blica do Formul√°rio
- Formato: {domain}/{username}/form/{slug}
- Exemplo: linkbio.com/joaosilva/form/mentoria-avancada
- Suporta navega√ß√£o direta por slug

4.5 üÜï v2.0 - SISTEMA DE LISTAS (LINK LISTS)

4.5.1 Cria√ß√£o de Lista
- T√≠tulo da lista (obrigat√≥rio)
- Slug/URL (√∫nico, gerado automaticamente do t√≠tulo)
- Descri√ß√£o (opcional)
- Status ativo/inativo

4.5.2 Gerenciamento de Itens da Lista
- Adicionar m√∫ltiplos itens (t√≠tulo + URL)
- Editar itens existentes
- Reordenar itens (drag-and-drop)
- Excluir itens
- display_order para ordena√ß√£o

4.5.3 P√°gina P√∫blica da Lista
- URL: {domain}/{username}/list/{slug}
- Exemplo: linkbio.com/joaosilva/list/minhas-redes-sociais
- Design responsivo e elegante
- Bot√µes clic√°veis com √≠cone de external link
- Link para perfil do usu√°rio no rodap√©

4.5.4 Casos de Uso
- Redes sociais organizadas
- Portfolio de projetos
- Links de produtos/servi√ßos por categoria
- Recursos educacionais
- Canais de comunica√ß√£o

4.6 üÜï v2.0 - SISTEMA DE PLANOS E ASSINATURA

4.6.1 Planos Dispon√≠veis
1. Plano Free (Gratuito)
   - 3 cards
   - 1 formul√°rio
   - 1 lista
   - 1 perfil
   - Sem v√≠deo de fundo
   - Sem modo ag√™ncia

2. Plano Individual
   - 10 cards
   - 5 formul√°rios
   - 3 listas
   - 1 perfil
   - V√≠deo de fundo habilitado
   - Sem modo ag√™ncia

3. Plano Ag√™ncia
   - 50 cards (por perfil)
   - 20 formul√°rios (por perfil)
   - 10 listas (por perfil)
   - 10 perfis (gerenciamento de clientes)
   - V√≠deo de fundo habilitado
   - Modo ag√™ncia habilitado

4. Plano Empresa
   - Ilimitado cards
   - Ilimitado formul√°rios
   - Ilimitado listas
   - 50 perfis
   - V√≠deo de fundo habilitado
   - Modo ag√™ncia habilitado

4.6.2 Verifica√ß√£o de Limites
- Sistema verifica limites antes de criar recursos
- Exibe badges indicando uso atual vs. limite
- Prompts para upgrade quando limite atingido
- Context PlanContext gerencia estado global de limites

4.6.3 Modo Ag√™ncia (allow_admin_mode)
- Dispon√≠vel apenas em planos Ag√™ncia e Empresa
- Admin pode criar e gerenciar m√∫ltiplos perfis
- Sistema de convites para novos usu√°rios
- Dashboard com seletor de usu√°rio
- Isolamento de dados entre clientes

4.7 SUBMISS√ïES DE FORMUL√ÅRIOS

4.7.1 Visualiza√ß√£o de Submiss√µes
- Lista de todas as submiss√µes por formul√°rio
- Dados capturados:
  - Nome, telefone, email (campos padr√£o reconhecidos)
  - Todos os campos customizados
  - Data/hora de submiss√£o
  - IP do usu√°rio
  - User-Agent (navegador)

4.7.2 Exporta√ß√£o
- Possibilidade de exportar dados (futura)

4.7.3 Filtros
- Por data
- Por formul√°rio

4.8 DASHBOARD

4.8.1 Vis√£o Geral
- Lista de todos os cards do usu√°rio
- Informa√ß√µes de cada card:
  - T√≠tulo
  - URL ou formul√°rio vinculado
  - Status (ativo/inativo)
  - N√∫mero de cliques
  - Imagem de capa
- Lista de formul√°rios criados
- Lista de listas criadas üÜï v2.0
- URL p√∫blica do perfil (com bot√£o copiar)
- Total de visualiza√ß√µes do perfil
- üÜï Badges de limites de plano (cards/forms/lists restantes)
- üÜï Seletor de usu√°rio (modo ag√™ncia)

4.8.2 A√ß√µes R√°pidas
- Criar novo card
- Criar novo formul√°rio
- Criar nova lista üÜï v2.0
- Editar perfil
- Ver p√°gina p√∫blica
- Zerar m√©tricas
- Gerenciar usu√°rios (modo ag√™ncia) üÜï v2.0

4.8.3 Gest√£o de Formul√°rios
- Bot√£o para acessar lista de formul√°rios
- Lista de formul√°rios criados com m√©tricas
- Acesso r√°pido a submiss√µes
- Ver formul√°rio p√∫blico

4.8.4 üÜï v2.0 - Gest√£o de Listas
- Bot√£o para criar nova lista
- Lista de todas as listas criadas
- Contador de itens por lista
- Status ativo/inativo
- A√ß√µes: Editar, Excluir, Ver p√∫blico

4.9 P√ÅGINA P√öBLICA DO USU√ÅRIO (UserPage)

4.9.1 Layout
- Imagem de capa (fullscreen background)
- Avatar centralizado
- Nome de exibi√ß√£o + selo verificado (se ativo)
- Frase customizada ou @username
- Biografia
- Grid de cards (1 ou 2 colunas)
  - 1 card: centralizado, largura limitada
  - 2+ cards: grid 2 colunas (desktop)
  - √öltimo card √≠mpar: centralizado em 2 colunas

4.7.2 Cards
- T√≠tulo
- Imagem (se houver)
- Click tracking (incrementa contador)
- Link direto ou formul√°rio

4.7.3 Rodap√©
- √çcones de redes sociais
- Links para Pol√≠tica de Privacidade
- Links para Termos de Uso
- Textos customizados (prim√°rio e secund√°rio)

4.7.4 SEO
- Meta tags OpenGraph
- Twitter Cards
- Title e description din√¢micos
- Imagem preview (avatar)

4.7.5 M√©tricas
- Tracking de visualiza√ß√µes de perfil
- N√£o conta visualiza√ß√£o do pr√≥prio dono

4.8 FORMUL√ÅRIO P√öBLICO (PublicForm)

4.8.1 Layout Responsivo
- Modo fullscreen se n√£o houver texto descritivo
- Modo 2 colunas (desktop) se houver texto:
  - Coluna 1: T√≠tulo, descri√ß√£o, cita√ß√£o
  - Coluna 2: Formul√°rio
- Mobile: stack vertical

4.8.2 Posicionamento
- Sistema de grid 3x3 para posicionar formul√°rio
- Classes Tailwind din√¢micas

4.8.3 Valida√ß√£o
- Valida√ß√£o client-side com Zod
- Mensagens de erro customizadas por tipo de campo
- Valida√ß√£o de email
- Valida√ß√£o de telefone
- Campos obrigat√≥rios

4.8.4 Submiss√£o
- Via Edge Function (submit-form)
- Captura de IP e User-Agent
- Sanitiza√ß√£o de inputs
- Limites de caracteres por tipo
- Feedback imediato (toast)

4.8.5 P√≥s-Submiss√£o
Baseado na configura√ß√£o:
- Tela de confirma√ß√£o customizada
- Redirecionamento autom√°tico (WhatsApp, link externo, outro form)
- Reset do formul√°rio

4.8.6 Seguran√ßa
- Rate limiting (via Edge Function)
- Sanitiza√ß√£o de inputs
- Valida√ß√£o de tipos
- RLS no banco

4.9 SISTEMA DE ADMINISTRA√á√ÉO

4.9.1 Roles
- user: Usu√°rio padr√£o
- admin: Acesso total ao sistema

4.9.2 Funcionalidades Admin
- Visualizar/editar qualquer usu√°rio (via UserSelector)
- Criar novos usu√°rios
- Convidar usu√°rios por email
- Gest√£o de usu√°rios:
  - Listar todos
  - Editar perfis
  - Editar cards
  - Editar formul√°rios
  - Ver submiss√µes
- Deletar usu√°rios
- Promover usu√°rios a admin

4.9.3 Admin View Context
- Permite admin "entrar" no contexto de outro usu√°rio
- Banner visual indicando modo admin
- Bot√£o para resetar visualiza√ß√£o (voltar ao pr√≥prio perfil)

4.9.4 UserSelector
- Dropdown com lista de todos os usu√°rios
- Busca/filtro
- Sele√ß√£o r√°pida
- Persiste contexto durante navega√ß√£o

4.10 SISTEMA DE M√âTRICAS

4.10.1 M√©tricas de Perfil
- Visualiza√ß√µes totais do perfil
- Data/hora de cada visualiza√ß√£o
- Agrega√ß√£o via React Query

4.10.2 M√©tricas de Cards
- Cliques por card
- Contador incremental
- Exibi√ß√£o no dashboard

4.10.3 Reset de M√©tricas
- A√ß√£o dispon√≠vel para propriet√°rio e admin
- Zera profile_views e card_clicks
- Confirma√ß√£o obrigat√≥ria

4.11 SISTEMA DE INTERNACIONALIZA√á√ÉO (i18n)

4.11.1 Idiomas Suportados
- Portugu√™s (PT-BR) - padr√£o
- Ingl√™s (EN)

4.11.2 LanguageContext
- Provider global
- Hook useLanguage
- Tradu√ß√µes em objeto JSON
- Persist√™ncia em localStorage

4.11.3 LanguageSelector
- Componente de troca de idioma
- Dropdown com bandeiras
- Dispon√≠vel no cabe√ßalho

4.11.4 Escopo de Tradu√ß√£o
Atualmente traduzido:
- Landing Page
- (Outras p√°ginas podem ser expandidas)

4.12 LANDING PAGE

4.12.1 Se√ß√µes
- Hero com t√≠tulo e call-to-action
- Features (recursos principais)
- Planos de pre√ßos:
  a) B√°sico (Gratuito)
     - 1 p√°gina
     - At√© 3 cards
     - 1 formul√°rio
  
  b) Premium (R$59/m√™s)
     - P√°ginas ilimitadas
     - Cards ilimitados
     - Formul√°rios ilimitados
     - Selo verificado
     - Suporte priorit√°rio
  
  c) Meu Designer (R$299)
     - Designer cria toda a p√°gina
     - At√© 8 cards
     - Capa personalizada
     - At√© 2 formul√°rios

- Footer com links legais
- Bot√µes de CTA (login/cadastro)

4.12.2 Responsividade
- Layout adapt√°vel
- Grid de cards
- Tipografia escal√°vel

4.13 P√ÅGINAS LEGAIS

4.13.1 Pol√≠tica de Privacidade
- Coleta de dados
- Uso de informa√ß√µes
- Cookies
- Direitos do usu√°rio

4.13.2 Termos de Uso
- Regras de uso
- Responsabilidades
- Limita√ß√µes
- Propriedade intelectual

================================================================================
5. FLUXOS DE USU√ÅRIO
================================================================================

5.1 FLUXO DE CADASTRO E SETUP INICIAL

1. Usu√°rio acessa Landing Page
2. Clica em "Come√ßar Agora" ou "Cadastrar"
3. Preenche email e senha
4. Recebe email de confirma√ß√£o (Supabase)
5. Confirma email
6. Sistema cria:
   - Registro em auth.users
   - Perfil em profiles (trigger autom√°tico)
   - Role 'user' em user_roles (trigger autom√°tico)
7. Redirect para /dashboard
8. Dashboard vazio (sem cards)
9. Usu√°rio clica em "Editar Perfil"
10. Preenche informa√ß√µes b√°sicas:
    - Username
    - Nome de exibi√ß√£o
    - Avatar
    - Capa
    - Bio
    - Redes sociais
11. Salva perfil
12. Volta para dashboard
13. Clica em "Novo Card"
14. Cria primeiro card
15. Clica em "Ver P√°gina"
16. Visualiza p√°gina p√∫blica
17. Compartilha URL p√∫blica

5.2 FLUXO DE CRIA√á√ÉO DE FORMUL√ÅRIO

1. Usu√°rio logado no dashboard
2. Clica em "Gerar Formul√°rio"
3. Redireciona para /dashboard/form
4. Visualiza lista de formul√°rios (se houver)
5. Clica em "Novo Formul√°rio"
6. Preenche configura√ß√µes b√°sicas:
   - T√≠tulo
   - Slug (URL)
   - Descri√ß√£o
   - Cita√ß√£o
7. Faz upload de imagem de fundo (opcional)
8. Configura apar√™ncia:
   - Cor do bot√£o
   - Texto do bot√£o
   - Posi√ß√£o do formul√°rio
9. Adiciona campos customizados:
   - Arrasta tipo de campo desejado
   - Configura label, placeholder, obrigatoriedade
   - Reordena via drag-and-drop
10. Configura a√ß√£o p√≥s-submiss√£o:
    - Confirma√ß√£o, redirect ou outro form
11. Configura notifica√ß√µes:
    - Email
    - WhatsApp
12. Salva formul√°rio
13. Testa visualiza√ß√£o (bot√£o "Visualizar")
14. Abre formul√°rio p√∫blico em nova aba
15. Preenche e testa submiss√£o
16. Volta ao dashboard
17. Cria card linkando para o formul√°rio
18. Compartilha URL do formul√°rio diretamente ou via p√°gina principal

5.3 FLUXO DE SUBMISS√ÉO DE FORMUL√ÅRIO (VISITANTE)

1. Visitante acessa URL do formul√°rio
   - Via card na p√°gina do usu√°rio, ou
   - Via link direto /{username}/form/{slug}
2. Formul√°rio carrega com layout customizado
3. Visualiza t√≠tulo, descri√ß√£o, cita√ß√£o
4. Preenche campos obrigat√≥rios e opcionais
5. Clica em bot√£o de envio
6. Sistema valida dados (client-side)
7. Se erro: exibe toast com mensagem
8. Se v√°lido: envia para Edge Function
9. Edge Function:
   - Valida novamente (server-side)
   - Captura IP e User-Agent
   - Insere em form_submissions
   - Envia email de notifica√ß√£o (se configurado)
   - Retorna sucesso
10. Frontend recebe sucesso
11. Exibe toast de sucesso
12. Executa a√ß√£o configurada:
    a) Exibe tela de confirma√ß√£o
    b) Redireciona para WhatsApp (com dados preenchidos)
    c) Redireciona para link externo
    d) Redireciona para outro formul√°rio
13. Se WhatsApp configurado: abre chat em nova aba
14. Formul√°rio √© resetado (se a√ß√£o = reset)

5.4 FLUXO ADMIN - GEST√ÉO DE USU√ÅRIOS

1. Admin faz login
2. Acessa /dashboard
3. Visualiza banner "Modo Admin"
4. Clica em "Gest√£o de Usu√°rios"
5. Redireciona para /dashboard/users
6. Visualiza lista de todos os usu√°rios
7. Pode realizar a√ß√µes:
   a) Editar usu√°rio
   b) Deletar usu√°rio
   c) Promover a admin
   d) Ver detalhes
8. Para editar usu√°rio:
   - Seleciona usu√°rio no UserSelector
   - Navega normalmente (dashboard, profile, cards, forms)
   - Todas as a√ß√µes s√£o feitas no contexto do usu√°rio selecionado
   - Banner admin persiste
   - Pode resetar visualiza√ß√£o a qualquer momento
9. Para criar novo usu√°rio:
   - Clica em "Criar Usu√°rio"
   - Preenche email, senha, username
   - Sistema cria usu√°rio e perfil
   - Opcionalmente envia convite
10. Para convidar usu√°rio:
    - Clica em "Convidar Usu√°rio"
    - Preenche email
    - Sistema envia email com link de convite
    - Link expira em X dias
    - Usu√°rio clica no link e completa cadastro

5.5 FLUXO DE M√âTRICAS

1. Visitante acessa p√°gina p√∫blica do usu√°rio
2. Sistema verifica se visitante != dono
3. Insere registro em profile_views com timestamp
4. Visitante clica em card
5. Sistema insere registro em card_clicks
6. Incrementa clicks_count no card
7. Propriet√°rio acessa dashboard
8. Visualiza m√©tricas:
   - Total de views do perfil
   - Cliques por card
9. Pode zerar m√©tricas se desejar

================================================================================
6. REQUISITOS T√âCNICOS
================================================================================

6.1 PERFORMANCE

- Lazy loading de imagens
- Code splitting via React Router
- React Query para caching
- Otimiza√ß√£o de queries (√≠ndices no DB)
- Paraleliza√ß√£o de queries (Promise.all)
- Memoiza√ß√£o de componentes (React.memo)
- Virtual scrolling para listas grandes (futuro)

6.2 SEO

- Meta tags din√¢micas por p√°gina
- OpenGraph tags
- Twitter Cards
- Sitemap (futuro)
- Robots.txt
- URLs sem√¢nticas
- Schema.org markup (futuro)

6.3 SEGURAN√áA

- Row Level Security (RLS) em todas as tabelas
- Valida√ß√£o client-side e server-side
- Sanitiza√ß√£o de inputs
- Rate limiting em Edge Functions
- HTTPS obrigat√≥rio
- Tokens JWT seguros
- Password hashing (Supabase)
- CORS configurado
- CSP headers (futuro)

6.4 ACESSIBILIDADE

- Componentes Radix UI (acess√≠veis por padr√£o)
- ARIA labels
- Navega√ß√£o por teclado
- Contraste de cores adequado
- Textos alternativos em imagens
- Focus indicators
- Screen reader support

6.5 RESPONSIVIDADE

- Mobile-first approach
- Breakpoints Tailwind:
  - sm: 640px
  - md: 768px
  - lg: 1024px
  - xl: 1280px
  - 2xl: 1536px
- Grid adapt√°vel
- Imagens responsivas
- Touch-friendly (44px+ de √°rea de toque)

6.6 COMPATIBILIDADE

Navegadores suportados:
- Chrome/Edge (√∫ltimas 2 vers√µes)
- Firefox (√∫ltimas 2 vers√µes)
- Safari (√∫ltimas 2 vers√µes)
- Mobile Safari (iOS 14+)
- Chrome Mobile (Android 10+)

6.7 MONITORAMENTO

- Web Vitals (implementado)
- Error tracking com ErrorBoundary
- Console logging estrat√©gico
- Analytics de uso (futuro)

================================================================================
7. DESIGN SYSTEM
================================================================================

7.1 CORES (Tokens CSS)

Definidos em src/index.css como vari√°veis HSL:

--background: cor de fundo principal
--foreground: cor de texto principal
--card: cor de fundo de cards
--card-foreground: cor de texto em cards
--popover: cor de fundo de popovers
--popover-foreground: cor de texto em popovers
--primary: cor prim√°ria da marca
--primary-foreground: texto sobre prim√°ria
--secondary: cor secund√°ria
--secondary-foreground: texto sobre secund√°ria
--muted: cor neutra suave
--muted-foreground: texto sobre muted
--accent: cor de destaque
--accent-foreground: texto sobre accent
--destructive: cor de a√ß√µes destrutivas (vermelho)
--destructive-foreground: texto sobre destructive
--border: cor de bordas
--input: cor de fundo de inputs
--ring: cor de focus ring
--success: cor de sucesso (verde)

Modo escuro: vari√°veis redefinem-se automaticamente
Gradientes: classes utilit√°rias (gradient-cyan, gradient-purple, etc.)

7.2 TIPOGRAFIA

Fontes:
- Heading: 'Inter' (sans-serif)
- Body: 'Inter' (sans-serif)

Escalas:
- text-xs: 0.75rem
- text-sm: 0.875rem
- text-base: 1rem
- text-lg: 1.125rem
- text-xl: 1.25rem
- text-2xl: 1.5rem
- text-3xl: 1.875rem
- text-4xl: 2.25rem

Pesos:
- font-normal: 400
- font-semibold: 600
- font-bold: 700

7.3 ESPA√áAMENTO

Sistema de espa√ßamento Tailwind (4px base):
- p-0, m-0: 0
- p-1, m-1: 0.25rem (4px)
- p-2, m-2: 0.5rem (8px)
- p-4, m-4: 1rem (16px)
- p-6, m-6: 1.5rem (24px)
- p-8, m-8: 2rem (32px)
- p-12, m-12: 3rem (48px)

7.4 COMPONENTES BASE (shadcn/ui)

Todos customiz√°veis via Tailwind:
- Button (variant: default, destructive, outline, secondary, ghost, link)
- Input
- Textarea
- Select
- Checkbox
- Radio
- Switch
- Card
- Dialog/Modal
- Alert
- Toast/Sonner
- Dropdown
- Tabs
- Accordion
- Tooltip
- Badge

7.5 √çCONES

Biblioteca: Lucide React
Tamanho padr√£o: w-4 h-4 (16px)
√çcones usados: Plus, Edit, Trash, User, Eye, Upload, Link, etc.

7.6 ANIMA√á√ïES

- Transi√ß√µes: transition-all duration-300 ease-in-out
- Hover states: hover:scale-105
- Focus states: focus:ring-2
- Loading states: animate-spin, animate-pulse
- Tailwind Animate plugin

7.7 LAYOUT

- Container max-width: max-w-6xl
- Centralization: mx-auto
- Padding: p-4 md:p-8
- Gap: gap-4, gap-6
- Glass morphism: backdrop-blur-sm bg-white/10

================================================================================
8. INTEGRA√á√ïES E APIs
================================================================================

8.1 SUPABASE

Authentication API:
- signUp(email, password)
- signInWithPassword(email, password)
- signOut()
- resetPasswordForEmail(email)
- updateUser(data)

Database API:
- from(table).select(columns)
- from(table).insert(data)
- from(table).update(data)
- from(table).delete()
- filters: eq, neq, in, gte, lte, like, etc.

Storage API:
- from(bucket).upload(path, file)
- from(bucket).remove(paths)
- from(bucket).getPublicUrl(path)

Edge Functions API:
- functions.invoke(name, { body })

Realtime API (n√£o usado atualmente):
- channel(name).subscribe()

8.2 EMAIL (Supabase Auth)

- Confirma√ß√£o de cadastro
- Reset de senha
- Notifica√ß√µes de formul√°rio (futuro)

8.3 ANALYTICS (Web Vitals)

- CLS (Cumulative Layout Shift)
- FID (First Input Delay)
- FCP (First Contentful Paint)
- LCP (Largest Contentful Paint)
- TTFB (Time to First Byte)

Logging: console.log para m√©tricas

8.4 FUTURE INTEGRATIONS

Poss√≠veis integra√ß√µes futuras:
- Stripe/PayPal (pagamentos)
- Mailchimp (email marketing)
- Google Analytics
- Zapier (automa√ß√µes)
- Custom domains
- WhatsApp Business API

================================================================================
9. DEPLOYMENT E INFRAESTRUTURA
================================================================================

9.1 AMBIENTE DE DESENVOLVIMENTO

- Local: npm run dev (Vite dev server)
- Hot Module Replacement (HMR)
- TypeScript checking
- ESLint + Prettier (opcional)

9.2 BUILD

- Comando: npm run build
- Output: /dist
- Otimiza√ß√µes:
  - Minifica√ß√£o
  - Tree shaking
  - Code splitting
  - Asset optimization

9.3 DEPLOYMENT

Plataforma: Lovable Cloud
- Continuous deployment
- Preview environments
- Production URL
- Custom domains (configur√°vel)

9.4 DATABASE MIGRATIONS

- Supabase Migration System
- SQL files em /supabase/migrations
- Versionamento autom√°tico
- Rollback support

9.5 ENVIRONMENT VARIABLES

Vari√°veis necess√°rias (.env):
- VITE_SUPABASE_URL
- VITE_SUPABASE_ANON_KEY

Gerenciadas via Lovable Secrets Manager

9.6 CI/CD

- GitHub integration
- Auto deploy on push to main
- Build checks
- Type checking

================================================================================
10. LIMITA√á√ïES E CONSTRAINTS CONHECIDOS
================================================================================

10.1 LIMITA√á√ïES T√âCNICAS

- N√£o suporta outros frameworks al√©m de React
- Sem backend personalizado (apenas Supabase/Edge Functions)
- Sem SSR (Server-Side Rendering)
- Sem PWA capabilities atualmente
- Limite de 5MB por upload de imagem
- Sem versionamento de conte√∫do
- Sem multi-tenancy complexo

10.2 LIMITA√á√ïES DE NEG√ìCIO

- Modelo de precifica√ß√£o fixo (Basic, Premium, Designer)
- Sem white-label completo
- Sem API p√∫blica para integra√ß√µes externas
- Sem analytics avan√ßado
- Sem A/B testing nativo

10.3 LIMITA√á√ïES DE ESCALA

- Supabase free tier limita:
  - 500MB database
  - 1GB file storage
  - 50MB Edge Functions invocations/month
- Poss√≠vel gargalo em profile_views/card_clicks (muitos inserts)
- Queries n√£o otimizadas para milh√µes de registros

================================================================================
11. ROADMAP E FEATURES FUTURAS
================================================================================

11.1 CURTO PRAZO (1-3 meses)

- Exporta√ß√£o de submiss√µes (CSV, Excel)
- Filtros avan√ßados em submiss√µes
- Analytics dashboard (gr√°ficos)
- Templates de formul√°rios pr√©-prontos
- Duplica√ß√£o de formul√°rios
- Duplica√ß√£o de cards
- Importa√ß√£o de links em massa

11.2 M√âDIO PRAZO (3-6 meses)

- API p√∫blica para integra√ß√µes
- Webhooks para eventos
- Integra√ß√£o com Zapier
- Custom CSS por usu√°rio
- Temas de cores pr√©-definidos
- Dom√≠nios customizados
- Subdom√≠nios personalizados
- QR Code generator
- Short URLs
- Link scheduling (publicar em data futura)

11.3 LONGO PRAZO (6-12 meses)

- White-label completo
- Multi-idioma completo
- PWA (Progressive Web App)
- Mobile app (React Native)
- Collaborative editing
- Teams/Organizations
- Advanced permissions
- SSO (Single Sign-On)
- Compliance (GDPR, LGPD, etc.)
- Advanced analytics (heatmaps, funnel, etc.)

================================================================================
12. DOCUMENTA√á√ÉO E SUPORTE
================================================================================

12.1 DOCUMENTA√á√ÉO T√âCNICA

- README.md (setup b√°sico)
- C√≥digo comentado (TSDoc)
- Tipos TypeScript (auto-documentados)
- Migrations SQL comentadas

12.2 DOCUMENTA√á√ÉO DE USU√ÅRIO

Landing Page:
- Features overview
- Planos de pre√ßo
- FAQ (futuro)

P√°ginas legais:
- Pol√≠tica de Privacidade
- Termos de Uso

In-app:
- Tooltips
- Placeholders descritivos
- Empty states informativos

12.3 SUPORTE

Canais (futuros):
- Email support
- Chat support (Premium)
- Base de conhecimento
- Video tutoriais
- Community forum

================================================================================
13. M√âTRICAS DE SUCESSO
================================================================================

13.1 KPIs DE PRODUTO

- N√∫mero de usu√°rios cadastrados
- Taxa de convers√£o (signup -> perfil completo)
- Taxa de reten√ß√£o (D1, D7, D30)
- N√∫mero m√©dio de cards por usu√°rio
- N√∫mero m√©dio de formul√°rios por usu√°rio
- Taxa de formul√°rios com submiss√µes
- Tempo m√©dio de setup (cadastro -> primeira p√°gina p√∫blica)

13.2 KPIs T√âCNICOS

- Uptime (target: 99.9%)
- Response time (target: <500ms p95)
- Error rate (target: <0.1%)
- Core Web Vitals (Green scores)
- Bounce rate (<40%)
- Page load time (<3s)

13.3 KPIs DE NEG√ìCIO

- MRR (Monthly Recurring Revenue)
- Taxa de convers√£o Free -> Premium
- Churn rate (<5%)
- LTV (Lifetime Value)
- CAC (Customer Acquisition Cost)
- Upsells para plano Designer

================================================================================
14. GLOSS√ÅRIO
================================================================================

- Bio Link: P√°gina web simples com m√∫ltiplos links
- Card: Elemento visual clic√°vel que representa um link
- Form Builder: Interface drag-and-drop para criar formul√°rios
- Slug: Parte final de uma URL amig√°vel (ex: "mentoria" em /form/mentoria)
- RLS: Row Level Security - seguran√ßa a n√≠vel de linha no banco de dados
- Edge Function: Fun√ß√£o serverless executada pr√≥xima ao usu√°rio
- Toast: Notifica√ß√£o tempor√°ria na tela
- Admin View: Modo onde admin visualiza/edita dados de outro usu√°rio
- Custom Field: Campo personaliz√°vel em formul√°rio
- Form Submission: Envio/resposta de formul√°rio
- Profile View: Visualiza√ß√£o da p√°gina p√∫blica de um usu√°rio
- Card Click: Clique em um card de link

================================================================================
15. CONSIDERA√á√ïES FINAIS
================================================================================

Este PRD documenta o estado atual do sistema conforme implementado.
O produto est√° em constante evolu√ß√£o e novas funcionalidades s√£o adicionadas
regularmente. Este documento deve ser atualizado a cada release significativo.

Vers√£o do Documento: 1.0
Data: 2025-01-02
Autor: An√°lise de C√≥digo Automatizada

================================================================================
FIM DO DOCUMENTO
================================================================================
